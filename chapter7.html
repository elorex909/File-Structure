<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 7: File Deletion & Space Management | File Organization Master</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --neon-blue: #0ff0fc;
            --neon-pink: #ff00ff;
            --neon-green: #00ff9d;
            --neon-purple: #b967ff;
            --neon-yellow: #ffeb3b;
            --dark-bg: #0a0a0f;
            --dark-surface: rgba(15, 15, 25, 0.85);
            --text-light: #f0f0f0;
            --text-dim: #b0b0c0;
        }

        body {
            background-color: var(--dark-bg);
            color: var(--text-light);
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(100, 0, 255, 0.05) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(255, 0, 200, 0.05) 0%, transparent 20%);
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Header Styles */
        header {
            margin-bottom: 40px;
            padding-top: 20px;
            position: relative;
        }

        .back-nav {
            margin-bottom: 20px;
        }

        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            background: rgba(15, 240, 252, 0.1);
            color: var(--neon-blue);
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            border: 1px solid rgba(15, 240, 252, 0.3);
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: rgba(15, 240, 252, 0.2);
            box-shadow: 0 0 15px rgba(15, 240, 252, 0.3);
            transform: translateX(-5px);
        }

        .chapter-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .chapter-number {
            font-size: 5rem;
            font-weight: 800;
            color: rgba(15, 240, 252, 0.2);
            line-height: 1;
            margin-bottom: 10px;
        }

        .chapter-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 15px;
            background: linear-gradient(to right, var(--neon-blue), var(--neon-pink));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 10px rgba(15, 240, 252, 0.3);
        }

        .chapter-subtitle {
            font-size: 1.2rem;
            color: var(--text-dim);
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
        }

        /* Glass Panel */
        .glass-panel {
            background: var(--dark-surface);
            backdrop-filter: blur(12px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            padding: 30px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            animation: fadeInUp 0.8s ease-out;
        }

        .glass-panel:hover {
            transform: translateY(-5px);
            box-shadow: 
                0 12px 40px rgba(0, 0, 0, 0.4),
                0 0 20px rgba(15, 240, 252, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .panel-title {
            font-size: 1.8rem;
            color: var(--neon-green);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 2px solid rgba(0, 255, 157, 0.2);
            padding-bottom: 10px;
        }

        .panel-title i {
            font-size: 1.5rem;
        }

        /* Content Sections */
        .content-section {
            margin-bottom: 25px;
            padding: 20px;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.03);
            border-left: 4px solid var(--neon-blue);
            transition: all 0.3s ease;
        }

        .content-section:hover {
            background: rgba(255, 255, 255, 0.05);
            transform: translateX(5px);
        }

        .section-title {
            font-size: 1.3rem;
            color: var(--neon-blue);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title i {
            color: var(--neon-pink);
        }

        .section-content {
            color: var(--text-dim);
            line-height: 1.7;
            margin-bottom: 15px;
        }

        .key-points {
            list-style-type: none;
            padding-left: 0;
        }

        .key-points li {
            padding: 10px 0 10px 30px;
            color: var(--text-dim);
            position: relative;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .key-points li:last-child {
            border-bottom: none;
        }

        .key-points li:before {
            content: '▶';
            position: absolute;
            left: 0;
            color: var(--neon-green);
            font-size: 0.8rem;
        }

        /* Visualizations */
        .file-visualization {
            display: flex;
            flex-direction: column;
            margin: 25px 0;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
        }

        .record-line {
            display: flex;
            width: 100%;
            margin: 5px 0;
            position: relative;
        }

        .record-box {
            flex: 1;
            padding: 12px;
            background: rgba(15, 240, 252, 0.1);
            border: 1px solid rgba(15, 240, 252, 0.3);
            border-radius: 6px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            margin: 0 2px;
        }

        .record-box.deleted {
            background: rgba(255, 50, 50, 0.2);
            border-color: #ff3232;
        }

        .record-box.available {
            background: rgba(0, 255, 157, 0.2);
            border-color: var(--neon-green);
        }

        .record-box.used {
            background: rgba(15, 240, 252, 0.2);
            border-color: var(--neon-blue);
        }

        .record-id {
            color: var(--neon-blue);
            font-weight: 600;
        }

        /* Strategy Comparison */
        .strategy-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            margin: 25px 0;
        }

        .strategy-card {
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            border-top: 3px solid;
        }

        .strategy-card.compaction {
            border-top-color: var(--neon-blue);
        }

        .strategy-card.fixed {
            border-top-color: var(--neon-green);
        }

        .strategy-card.variable {
            border-top-color: var(--neon-pink);
        }

        .strategy-title {
            color: var(--neon-blue);
            font-weight: 600;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .strategy-card.compaction .strategy-title {
            color: var(--neon-blue);
        }

        .strategy-card.fixed .strategy-title {
            color: var(--neon-green);
        }

        .strategy-card.variable .strategy-title {
            color: var(--neon-pink);
        }

        /* Placement Strategy */
        .placement-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .placement-card {
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .placement-card:hover {
            border-color: var(--neon-yellow);
            transform: translateY(-5px);
        }

        .placement-title {
            color: var(--neon-yellow);
            font-weight: 600;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Fragmentation Visualization */
        .fragmentation-viz {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin: 20px 0;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }

        .disk-cluster {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: rgba(0, 255, 157, 0.1);
            border-radius: 6px;
            border-left: 3px solid var(--neon-green);
        }

        .cluster-label {
            min-width: 80px;
            color: var(--neon-green);
            font-weight: 600;
        }

        /* Master File Table */
        .mft-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            overflow: hidden;
        }

        .mft-table th {
            background: rgba(15, 240, 252, 0.2);
            padding: 12px;
            text-align: left;
            color: var(--neon-blue);
            font-weight: 600;
        }

        .mft-table td {
            padding: 12px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--text-dim);
        }

        /* Fragmentation Types */
        .fragmentation-types {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 25px 0;
        }

        .frag-card {
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            text-align: center;
        }

        .frag-card.internal {
            border-top: 3px solid var(--neon-blue);
        }

        .frag-card.external {
            border-top: 3px solid var(--neon-pink);
        }

        .frag-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .frag-card.internal .frag-title {
            color: var(--neon-blue);
        }

        .frag-card.external .frag-title {
            color: var(--neon-pink);
        }

        /* Exam Focus Box */
        .exam-focus {
            background: rgba(255, 235, 59, 0.1);
            border: 1px solid rgba(255, 235, 59, 0.3);
            border-radius: 12px;
            padding: 25px;
            margin: 30px 0;
            position: relative;
            overflow: hidden;
        }

        .exam-focus:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255, 235, 59, 0.05), transparent);
        }

        .exam-title {
            color: var(--neon-yellow);
            font-size: 1.5rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .exam-points {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
        }

        .exam-point {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
            border-left: 3px solid var(--neon-yellow);
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 40px;
            flex-wrap: wrap;
        }

        .action-btn {
            padding: 15px 30px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
            min-width: 200px;
            justify-content: center;
        }

        .btn-main {
            background: linear-gradient(to right, var(--neon-blue), var(--neon-pink));
            color: white;
            border: none;
        }

        .btn-download {
            background: rgba(255, 0, 255, 0.1);
            color: var(--neon-pink);
            border: 1px solid rgba(255, 0, 255, 0.3);
        }

        .action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        .btn-main:hover {
            background: linear-gradient(to right, var(--neon-pink), var(--neon-blue));
        }

        .btn-download:hover {
            background: rgba(255, 0, 255, 0.2);
            box-shadow: 0 0 20px rgba(255, 0, 255, 0.3);
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 30px 0;
            margin-top: 50px;
            color: var(--text-dim);
            font-size: 0.9rem;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }

        .footer-highlight {
            color: var(--neon-green);
            font-weight: 600;
        }

        /* Animations */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes highlight {
            0% { background-color: rgba(15, 240, 252, 0.1); }
            50% { background-color: rgba(15, 240, 252, 0.3); }
            100% { background-color: rgba(15, 240, 252, 0.1); }
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .strategy-comparison {
                grid-template-columns: 1fr 1fr;
            }
            
            .fragmentation-types {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .chapter-number {
                font-size: 4rem;
            }
            
            .chapter-title {
                font-size: 2rem;
            }
            
            .glass-panel {
                padding: 20px;
            }
            
            .strategy-comparison {
                grid-template-columns: 1fr;
            }
            
            .action-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .action-btn {
                width: 100%;
                max-width: 300px;
            }
            
            .placement-grid {
                grid-template-columns: 1fr;
            }
            
            .exam-points {
                grid-template-columns: 1fr;
            }
            
            .record-line {
                flex-wrap: wrap;
            }
            
            .record-box {
                min-width: 100px;
                margin: 2px;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 15px;
            }
            
            .chapter-number {
                font-size: 3rem;
            }
            
            .chapter-title {
                font-size: 1.8rem;
            }
            
            .panel-title {
                font-size: 1.5rem;
            }
            
            .mft-table {
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Back Navigation -->
        <header>
            <div class="back-nav">
                <a href="index.html" class="back-btn">
                    <i class="fas fa-arrow-left"></i> Back to Main Page
                </a>
            </div>
            
            <div class="chapter-header">
                <div class="chapter-number">07</div>
                <h1 class="chapter-title">File Deletion & Space Management</h1>
                <p class="chapter-subtitle">Record Deletion Strategies, Space Reclamation, Fragmentation, and Physical Storage Management</p>
            </div>
        </header>

        <main>
            <!-- Chapter Overview -->
            <div class="glass-panel">
                <h2 class="panel-title"><i class="fas fa-graduation-cap"></i> Chapter Overview</h2>
                <div class="content-section">
                    <p class="section-content">
                        This chapter explores techniques for managing file deletions, reclaiming unused space, 
                        and understanding fragmentation in file systems. It covers deletion strategies for both 
                        fixed-length and variable-length records, placement strategies for new records, and 
                        physical storage concepts including fragmentation and defragmentation.
                    </p>
                </div>
            </div>

            <!-- The Deletion Problem -->
            <div class="glass-panel">
                <h2 class="panel-title"><i class="fas fa-trash-alt"></i> The Deletion Problem</h2>
                
                <div class="content-section">
                    <h3 class="section-title"><i class="fas fa-exclamation-triangle"></i> The Core Issue</h3>
                    <div class="section-content">
                        <p>When records need to be deleted from files, there is <strong>no basic file operation</strong> 
                        that allows us to remove part of a file. Record deletion must be managed by the program 
                        responsible for file organization.</p>
                        
                        <div class="file-visualization">
                            <p style="color: var(--neon-green); margin-bottom: 15px; font-weight: 600;">File Before Deletion</p>
                            
                            <div class="record-line">
                                <div class="record-box used">
                                    <div class="record-id">R001</div>
                                    <div style="font-size: 0.8rem; color: var(--text-dim);">Active</div>
                                </div>
                                <div class="record-box used">
                                    <div class="record-id">R002</div>
                                    <div style="font-size: 0.8rem; color: var(--text-dim);">Active</div>
                                </div>
                                <div class="record-box used">
                                    <div class="record-id">R003</div>
                                    <div style="font-size: 0.8rem; color: var(--text-dim);">Active</div>
                                </div>
                                <div class="record-box used">
                                    <div class="record-id">R004</div>
                                    <div style="font-size: 0.8rem; color: var(--text-dim);">Active</div>
                                </div>
                                <div class="record-box used">
                                    <div class="record-id">R005</div>
                                    <div style="font-size: 0.8rem; color: var(--text-dim);">Active</div>
                                </div>
                            </div>
                            
                            <p style="color: var(--neon-pink); margin: 15px 0; font-weight: 600;">File After Deleting R002 and R004</p>
                            
                            <div class="record-line">
                                <div class="record-box used">
                                    <div class="record-id">R001</div>
                                    <div style="font-size: 0.8rem; color: var(--text-dim);">Active</div>
                                </div>
                                <div class="record-box deleted">
                                    <div class="record-id">R002</div>
                                    <div style="font-size: 0.8rem; color: #ff3232;">Deleted</div>
                                </div>
                                <div class="record-box used">
                                    <div class="record-id">R003</div>
                                    <div style="font-size: 0.8rem; color: var(--text-dim);">Active</div>
                                </div>
                                <div class="record-box deleted">
                                    <div class="record-id">R004</div>
                                    <div style="font-size: 0.8rem; color: #ff3232;">Deleted</div>
                                </div>
                                <div class="record-box used">
                                    <div class="record-id">R005</div>
                                    <div style="font-size: 0.8rem; color: var(--text-dim);">Active</div>
                                </div>
                            </div>
                        </div>
                        
                        <p><strong>Key Challenge:</strong> How to reuse the space occupied by deleted records for storing new records?</p>
                    </div>
                </div>
            </div>

            <!-- Record Deletion Strategies -->
            <div class="glass-panel">
                <h2 class="panel-title"><i class="fas fa-tools"></i> Record Deletion Strategies</h2>
                
                <div class="strategy-comparison">
                    <div class="strategy-card compaction">
                        <div class="strategy-title">
                            <i class="fas fa-compress-alt"></i> Storage Compaction
                        </div>
                        <ul style="padding-left: 20px; color: var(--text-dim);">
                            <li><strong>Mark records as deleted</strong> (not physically removed)</li>
                            <li>Program must check deletion status</li>
                            <li>Special program <strong>squeezes</strong> file periodically</li>
                            <li>Moves active records together</li>
                            <li>Eliminates gaps from deletions</li>
                            <li>Suitable for both fixed and variable length records</li>
                        </ul>
                    </div>
                    
                    <div class="strategy-card fixed">
                        <div class="strategy-title">
                            <i class="fas fa-ruler"></i> Fixed-Length Records
                        </div>
                        <ul style="padding-left: 20px; color: var(--text-dim);">
                            <li>Use an <strong>AVAIL LIST</strong> (linked list of available records)</li>
                            <li>Header record stores beginning of AVAIL LIST</li>
                            <li>Deleted records inserted into AVAIL LIST</li>
                            <li>Space remains in same physical position</li>
                            <li>New records take first available spot</li>
                            <li>Uses RRN (Relative Record Number)</li>
                        </ul>
                    </div>
                    
                    <div class="strategy-card variable">
                        <div class="strategy-title">
                            <i class="fas fa-expand-alt"></i> Variable-Length Records
                        </div>
                        <ul style="padding-left: 20px; color: var(--text-dim);">
                            <li>Also uses <strong>AVAIL LIST</strong></li>
                            <li>Records must store <strong>size as a field</strong></li>
                            <li>Cannot use RRN - must use <strong>byte offset</strong></li>
                            <li>New records must find <strong>large enough</strong> space</li>
                            <li>More complex than fixed-length management</li>
                            <li>Requires careful size tracking</li>
                        </ul>
                    </div>
                </div>

                <div class="content-section">
                    <h3 class="section-title"><i class="fas fa-project-diagram"></i> AVAIL LIST Visualization</h3>
                    <div class="section-content">
                        <div class="file-visualization">
                            <p style="color: var(--neon-green); margin-bottom: 15px; font-weight: 600;">AVAIL LIST for Fixed-Length Records</p>
                            
                            <div style="display: flex; align-items: center; margin-bottom: 15px; padding: 10px; background: rgba(0, 255, 157, 0.1); border-radius: 6px;">
                                <span style="color: var(--neon-green); font-weight: 600; min-width: 120px;">List Header:</span>
                                <span style="color: var(--neon-blue);">SRN=4 (points to first available record)</span>
                            </div>
                            
                            <div class="record-line">
                                <div class="record-box used">
                                    <div class="record-id">Simpson</div>
                                    <div style="font-size: 0.8rem; color: var(--text-dim);">*-1</div>
                                </div>
                                <div class="record-box used">
                                    <div class="record-id">Cramer</div>
                                    <div style="font-size: 0.8rem; color: var(--text-dim);">*2</div>
                                </div>
                                <div class="record-box used">
                                    <div class="record-id">Edwards</div>
                                    <div style="font-size: 0.8rem; color: var(--text-dim);">0</div>
                                </div>
                                <div class="record-box available">
                                    <div class="record-id">AVAIL</div>
                                    <div style="font-size: 0.8rem; color: var(--neon-green);">Next: -1</div>
                                </div>
                                <div class="record-box used">
                                    <div class="record-id">Smith</div>
                                    <div style="font-size: 0.8rem; color: var(--text-dim);">5</div>
                                </div>
                            </div>
                            
                            <div style="margin-top: 15px; color: var(--text-dim); font-size: 0.9rem;">
                                <p><strong>Legend:</strong> * indicates pointer to next available record in AVAIL LIST</p>
                                <p><strong>RRN 3</strong> is available (pointed to by header). New records will be placed here first.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Placement Strategies -->
            <div class="glass-panel">
                <h2 class="panel-title"><i class="fas fa-th-large"></i> Placement Strategies</h2>
                
                <div class="placement-grid">
                    <div class="placement-card">
                        <div class="placement-title">
                            <i class="fas fa-play"></i> First-Fit Strategy
                        </div>
                        <div style="color: var(--text-dim);">
                            <p><strong>AVAIL LIST is NOT sorted by size</strong></p>
                            <p>First record large enough to hold new record is chosen</p>
                            <div style="margin-top: 10px; padding: 10px; background: rgba(15, 240, 252, 0.1); border-radius: 6px;">
                                <p><strong>Example:</strong></p>
                                <p>AVAIL LIST: size=10, size=50, size=22, size=60</p>
                                <p>New record: size=20</p>
                                <p style="color: var(--neon-green); font-weight: 600;">Chosen: size=50 (first fit)</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="placement-card">
                        <div class="placement-title">
                            <i class="fas fa-check"></i> Best-Fit Strategy
                        </div>
                        <div style="color: var(--text-dim);">
                            <p><strong>AVAIL LIST IS sorted by size</strong></p>
                            <p>Smallest record large enough is chosen</p>
                            <div style="margin-top: 10px; padding: 10px; background: rgba(0, 255, 157, 0.1); border-radius: 6px;">
                                <p><strong>Example:</strong></p>
                                <p>AVAIL LIST: size=10, size=22, size=50, size=60</p>
                                <p>New record: size=20</p>
                                <p style="color: var(--neon-green); font-weight: 600;">Chosen: size=22 (best fit)</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="placement-card">
                        <div class="placement-title">
                            <i class="fas fa-times"></i> Worst-Fit Strategy
                        </div>
                        <div style="color: var(--text-dim);">
                            <p><strong>AVAIL LIST sorted by decreasing size</strong></p>
                            <p>Largest record is used; unused space returned to AVAIL LIST</p>
                            <div style="margin-top: 10px; padding: 10px; background: rgba(255, 0, 255, 0.1); border-radius: 6px;">
                                <p><strong>Example:</strong></p>
                                <p>AVAIL LIST: size=60, size=50, size=22, size=10</p>
                                <p>New record: size=20</p>
                                <p style="color: var(--neon-green); font-weight: 600;">Chosen: size=60 (worst fit)</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="content-section">
                    <h3 class="section-title"><i class="fas fa-balance-scale"></i> Strategy Selection Criteria</h3>
                    <div class="section-content">
                        <p>Choosing a placement strategy depends on managing two types of fragmentation:</p>
                        
                        <div class="fragmentation-types">
                            <div class="frag-card internal">
                                <div class="frag-title">Internal Fragmentation</div>
                                <div style="color: var(--text-dim); margin: 10px 0;">
                                    Wasted space <strong>within</strong> a record when added record is smaller than allocated space
                                </div>
                                <div style="color: var(--neon-blue); font-weight: 600;">
                                    Best-Fit minimizes internal fragmentation
                                </div>
                            </div>
                            
                            <div class="frag-card external">
                                <div class="frag-title">External Fragmentation</div>
                                <div style="color: var(--text-dim); margin: 10px 0;">
                                    Available space is divided into <strong>small pieces</strong> that cannot be reused
                                </div>
                                <div style="color: var(--neon-pink); font-weight: 600;">
                                    Worst-Fit minimizes external fragmentation
                                </div>
                            </div>
                        </div>
                        
                        <div style="margin-top: 20px; padding: 15px; background: rgba(255, 235, 59, 0.1); border-radius: 8px;">
                            <p style="color: var(--neon-yellow); font-weight: 600;">Decision Guidelines:</p>
                            <ul style="padding-left: 20px; color: var(--text-dim); margin-top: 10px;">
                                <li><strong>Leave space unused within record</strong> → Internal fragmentation → Use <span style="color: var(--neon-green);">Best-Fit</span></li>
                                <li><strong>Return unused space to AVAIL LIST</strong> → External fragmentation → Use <span style="color: var(--neon-pink);">Worst-Fit</span></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Physical File Storage -->
            <div class="glass-panel">
                <h2 class="panel-title"><i class="fas fa-hdd"></i> Physical File Storage</h2>
                
                <div class="content-section">
                    <h3 class="section-title"><i class="fas fa-sitemap"></i> How Files are Stored</h3>
                    <div class="section-content">
                        <p>When you save a file, the operating system:</p>
                        <ul class="key-points">
                            <li>Checks the <strong>index file</strong> (Master File Table) for empty clusters</li>
                            <li>Selects empty clusters for file data storage</li>
                            <li>Revises index file to include new file name and location</li>
                            <li>Files may be stored in <strong>contiguous</strong> or <strong>noncontiguous</strong> clusters</li>
                            <li>Contiguous clusters provide better performance</li>
                        </ul>
                        
                        <div style="margin-top: 20px;">
                            <p style="color: var(--neon-green); font-weight: 600; margin-bottom: 10px;">Master File Table (MFT) Example:</p>
                            
                            <table class="mft-table">
                                <thead>
                                    <tr>
                                        <th>File</th>
                                        <th>Cluster</th>
                                        <th>Comment</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>MFT</td>
                                        <td>1</td>
                                        <td>Reserved for MFT files</td>
                                    </tr>
                                    <tr>
                                        <td>DISK USE</td>
                                        <td>2</td>
                                        <td>Part of MFT with empty sectors list</td>
                                    </tr>
                                    <tr>
                                        <td>Bio.txt</td>
                                        <td>3, 4</td>
                                        <td>Stored in contiguous clusters 3 and 4</td>
                                    </tr>
                                    <tr>
                                        <td>Jordan.wks</td>
                                        <td>7, 8, 10</td>
                                        <td>Stored noncontiguously in clusters 7, 8, and 10</td>
                                    </tr>
                                    <tr>
                                        <td>Pick.bmp</td>
                                        <td>9</td>
                                        <td>Stored in cluster 9</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <div class="content-section">
                    <h3 class="section-title"><i class="fas fa-trash"></i> What Happens When a File is Deleted</h3>
                    <div class="section-content">
                        <ul class="key-points">
                            <li>Operating system changes cluster status to <strong>"empty"</strong></li>
                            <li>File name is removed from index file</li>
                            <li><strong>File data remains in clusters</strong> until overwritten</li>
                            <li>This enables data recovery utilities</li>
                            <li>Physical deletion only occurs when new data overwrites old clusters</li>
                        </ul>
                        
                        <div style="margin-top: 15px; padding: 15px; background: rgba(255, 50, 50, 0.1); border-radius: 8px; border-left: 3px solid #ff3232;">
                            <p style="color: #ff3232; font-weight: 600;">Important Security Note:</p>
                            <p style="color: var(--text-dim);">Simply deleting files doesn't remove data. Use secure deletion tools for sensitive data.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Fragmentation & Defragmentation -->
            <div class="glass-panel">
                <h2 class="panel-title"><i class="fas fa-puzzle-piece"></i> Fragmentation & Defragmentation</h2>
                
                <div class="content-section">
                    <h3 class="section-title"><i class="fas fa-tachometer-alt"></i> The Performance Problem</h3>
                    <div class="section-content">
                        <p>As files are written and deleted over time:</p>
                        <ul class="key-points">
                            <li>Files become <strong>scattered</strong> across disk</li>
                            <li><strong>Fragmented files</strong> stored in noncontiguous clusters</li>
                            <li>Read-write heads move back and forth to locate file parts</li>
                            <li>Drive performance <strong>declines</strong> significantly</li>
                            <li>More time spent seeking than reading/writing</li>
                        </ul>
                    </div>
                </div>

                <div class="content-section">
                    <h3 class="section-title"><i class="fas fa-magic"></i> The Solution: Defragmentation</h3>
                    <div class="section-content">
                        <p>Defragmentation utilities (like Windows Disk Defragmenter):</p>
                        
                        <div class="fragmentation-viz">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                                <div style="text-align: center;">
                                    <p style="color: var(--neon-pink); font-weight: 600;">Fragmented Disk</p>
                                    <div style="display: flex; flex-direction: column; gap: 5px; margin-top: 10px;">
                                        <div class="disk-cluster" style="background: rgba(255, 0, 255, 0.2);">File A: Clusters 4, 9, 14</div>
                                        <div class="disk-cluster" style="background: rgba(15, 240, 252, 0.2);">File B: Clusters 13, 12, 7, 2</div>
                                        <div class="disk-cluster" style="background: rgba(0, 255, 157, 0.2);">File C: Clusters 1, 5, 10, 11, 6</div>
                                    </div>
                                </div>
                                
                                <div style="text-align: center;">
                                    <p style="color: var(--neon-green); font-weight: 600;">Defragmented Disk</p>
                                    <div style="display: flex; flex-direction: column; gap: 5px; margin-top: 10px;">
                                        <div class="disk-cluster" style="background: rgba(255, 0, 255, 0.2);">File A: Clusters 1-3</div>
                                        <div class="disk-cluster" style="background: rgba(15, 240, 252, 0.2);">File B: Clusters 4-7</div>
                                        <div class="disk-cluster" style="background: rgba(0, 255, 157, 0.2);">File C: Clusters 8-12</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <ul class="key-points" style="margin-top: 20px;">
                            <li><strong>Rearranges files</strong> to store them in contiguous clusters</li>
                            <li>Reduces head movement and seek time</li>
                            <li>Restores <strong>peak performance</strong></li>
                            <li>Should be performed periodically on mechanical drives</li>
                            <li>Less critical for SSDs (different storage technology)</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Exam Focus Section -->
            <div class="exam-focus">
                <h2 class="exam-title"><i class="fas fa-star"></i> Exam Focus Points</h2>
                <div class="exam-points">
                    <div class="exam-point">
                        <h4>Deletion Strategies</h4>
                        <p>Storage compaction vs AVAIL LIST for fixed/variable length records</p>
                    </div>
                    <div class="exam-point">
                        <h4>AVAIL LIST Management</h4>
                        <p>Header records, pointers, insertion/retrieval from AVAIL LIST</p>
                    </div>
                    <div class="exam-point">
                        <h4>Placement Strategies</h4>
                        <p>First-Fit, Best-Fit, Worst-Fit algorithms and when to use each</p>
                    </div>
                    <div class="exam-point">
                        <h4>Fragmentation Types</h4>
                        <p>Internal vs External fragmentation differences and causes</p>
                    </div>
                    <div class="exam-point">
                        <h4>Master File Table</h4>
                        <p>Purpose, structure, and role in file storage</p>
                    </div>
                    <div class="exam-point">
                        <h4>Physical File Deletion</h4>
                        <p>What actually happens when files are "deleted"</p>
                    </div>
                    <div class="exam-point">
                        <h4>Defragmentation</h4>
                        <p>Purpose, process, and performance benefits</p>
                    </div>
                    <div class="exam-point">
                        <h4>Fixed vs Variable Length</h4>
                        <p>Different management approaches for each record type</p>
                    </div>
                </div>
            </div>

            <!-- Key Takeaways -->
            <div class="glass-panel">
                <h2 class="panel-title"><i class="fas fa-lightbulb"></i> Key Takeaways</h2>
                <div class="content-section">
                    <ul class="key-points">
                        <li>There is <strong>no basic file operation</strong> for record deletion - programs must manage it</li>
                        <li><strong>Storage compaction</strong> periodically squeezes files by moving active records together</li>
                        <li><strong>AVAIL LIST</strong> is a linked list of available records for dynamic space reclamation</li>
                        <li>Fixed-length records use <strong>RRN</strong> while variable-length records use <strong>byte offsets</strong></li>
                        <li>Three placement strategies: <strong>First-Fit</strong> (fastest), <strong>Best-Fit</strong> (minimizes internal fragmentation), <strong>Worst-Fit</strong> (minimizes external fragmentation)</li>
                        <li><strong>Internal fragmentation</strong> wastes space within records; <strong>External fragmentation</strong> divides free space into unusable small pieces</li>
                        <li>Files are stored in clusters via the <strong>Master File Table</strong> which tracks file locations</li>
                        <li>File deletion only marks clusters as empty - data remains until overwritten</li>
                        <li><strong>Fragmentation</strong> scatters files across disk, reducing performance</li>
                        <li><strong>Defragmentation</strong> rearranges files into contiguous clusters to restore performance</li>
                    </ul>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <a href="index.html" class="action-btn btn-main">
                    <i class="fas fa-home"></i> Back to Main Page
                </a>
                <a href="File organization the seventh lecture (7).pdf" class="action-btn btn-download" download>
                    <i class="fas fa-download"></i> Download Chapter PDF
                </a>
            </div>
        </main>

        <footer>
            <p>Chapter 7 Summary &copy; 2026 | Created by <span class="footer-highlight">Debuggers' Den Team</span></p>
            <p style="margin-top: 10px;">This summary covers <span class="footer-highlight">all key points</span> from Chapter 7 for comprehensive exam preparation</p>
        </footer>
    </div>

    <script>
        // Add hover effects to content sections
        document.querySelectorAll('.content-section').forEach(section => {
            section.addEventListener('mouseenter', function() {
                this.style.transform = 'translateX(5px)';
            });
            
            section.addEventListener('mouseleave', function() {
                this.style.transform = 'translateX(0)';
            });
        });

        // Add animation to record boxes
        const recordBoxes = document.querySelectorAll('.record-box');
        recordBoxes.forEach((box, index) => {
            box.addEventListener('mouseenter', function() {
                if (this.classList.contains('deleted')) {
                    this.style.transform = 'scale(1.05)';
                    this.style.boxShadow = '0 0 15px rgba(255, 50, 50, 0.3)';
                } else if (this.classList.contains('available')) {
                    this.style.transform = 'scale(1.05)';
                    this.style.boxShadow = '0 0 15px rgba(0, 255, 157, 0.3)';
                } else {
                    this.style.transform = 'scale(1.05)';
                    this.style.boxShadow = '0 0 15px rgba(15, 240, 252, 0.3)';
                }
            });
            
            box.addEventListener('mouseleave', function() {
                this.style.transform = 'scale(1)';
                this.style.boxShadow = 'none';
            });
        });

        // Add animation to strategy cards
        document.querySelectorAll('.strategy-card').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-5px)';
                this.style.boxShadow = '0 10px 20px rgba(0, 0, 0, 0.3)';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
                this.style.boxShadow = 'none';
            });
        });

        // Add animation to placement cards
        document.querySelectorAll('.placement-card').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-5px)';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
            });
        });

        // Add click animation to action buttons
        document.querySelectorAll('.action-btn').forEach(btn => {
            btn.addEventListener('click', function(e) {
                this.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    this.style.transform = '';
                }, 150);
                
                // If download button, show loading state
                if (this.classList.contains('btn-download')) {
                    const icon = this.querySelector('i');
                    const originalClass = icon.className;
                    icon.className = 'fas fa-spinner fa-spin';
                    
                    setTimeout(() => {
                        icon.className = originalClass;
                    }, 1000);
                }
            });
        });

        // Initialize animations
        document.addEventListener('DOMContentLoaded', function() {
            // Animate sections on load
            const sections = document.querySelectorAll('.content-section, .glass-panel');
            sections.forEach((section, index) => {
                section.style.animationDelay = `${index * 0.1}s`;
            });
            
            // Pulse animation for deleted records
            setInterval(() => {
                const deletedBoxes = document.querySelectorAll('.record-box.deleted');
                deletedBoxes.forEach(box => {
                    box.style.animation = 'pulse 2s ease-in-out';
                    setTimeout(() => {
                        box.style.animation = '';
                    }, 2000);
                });
            }, 3000);
        });
    </script>
</body>

</html>
